<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>PopObj and PopData types | PopGen.jl</title>
    <meta name="description" content="Population Genetics in Julia">
    <meta name="generator" content="VuePress 1.4.0">
    
    
    <link rel="preload" href="/PopGen.jl/assets/css/0.styles.cd537ca5.css" as="style"><link rel="preload" href="/PopGen.jl/assets/js/app.7a452c33.js" as="script"><link rel="preload" href="/PopGen.jl/assets/js/3.7fe1cfbd.js" as="script"><link rel="preload" href="/PopGen.jl/assets/js/21.cc6fefff.js" as="script"><link rel="prefetch" href="/PopGen.jl/assets/js/10.a16ef715.js"><link rel="prefetch" href="/PopGen.jl/assets/js/11.6f848485.js"><link rel="prefetch" href="/PopGen.jl/assets/js/12.7efcf189.js"><link rel="prefetch" href="/PopGen.jl/assets/js/13.86747f27.js"><link rel="prefetch" href="/PopGen.jl/assets/js/14.317ba437.js"><link rel="prefetch" href="/PopGen.jl/assets/js/15.83933e00.js"><link rel="prefetch" href="/PopGen.jl/assets/js/16.46290747.js"><link rel="prefetch" href="/PopGen.jl/assets/js/17.20f1945c.js"><link rel="prefetch" href="/PopGen.jl/assets/js/18.8c7dfd60.js"><link rel="prefetch" href="/PopGen.jl/assets/js/19.d0dbb6bc.js"><link rel="prefetch" href="/PopGen.jl/assets/js/20.2be1150f.js"><link rel="prefetch" href="/PopGen.jl/assets/js/22.93d55c51.js"><link rel="prefetch" href="/PopGen.jl/assets/js/23.cc851fb6.js"><link rel="prefetch" href="/PopGen.jl/assets/js/24.99ceae3e.js"><link rel="prefetch" href="/PopGen.jl/assets/js/25.fe0bfb4b.js"><link rel="prefetch" href="/PopGen.jl/assets/js/26.dd583866.js"><link rel="prefetch" href="/PopGen.jl/assets/js/27.907bf677.js"><link rel="prefetch" href="/PopGen.jl/assets/js/4.b5866c71.js"><link rel="prefetch" href="/PopGen.jl/assets/js/5.49182ad9.js"><link rel="prefetch" href="/PopGen.jl/assets/js/6.a770d4a9.js"><link rel="prefetch" href="/PopGen.jl/assets/js/7.497f0ae8.js"><link rel="prefetch" href="/PopGen.jl/assets/js/8.a318e530.js"><link rel="prefetch" href="/PopGen.jl/assets/js/9.ff44f68e.js"><link rel="prefetch" href="/PopGen.jl/assets/js/vendors~docsearch.f0566a0d.js">
    <link rel="stylesheet" href="/PopGen.jl/assets/css/0.styles.cd537ca5.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/PopGen.jl/" class="home-link router-link-active"><!----> <span class="site-name">PopGen.jl</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/PopGen.jl/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/PopGen.jl/getting_started/about.html" class="nav-link">
  About
</a></div><div class="nav-item"><a href="/PopGen.jl/getting_started/install.html" class="nav-link">
  Docs
</a></div><div class="nav-item"><a href="/PopGen.jl/community.html" class="nav-link">
  Contribute
</a></div><div class="nav-item"><a href="https://github.com/pdimens/PopGen.jl" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/PopGen.jl/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/PopGen.jl/getting_started/about.html" class="nav-link">
  About
</a></div><div class="nav-item"><a href="/PopGen.jl/getting_started/install.html" class="nav-link">
  Docs
</a></div><div class="nav-item"><a href="/PopGen.jl/community.html" class="nav-link">
  Contribute
</a></div><div class="nav-item"><a href="https://github.com/pdimens/PopGen.jl" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Getting Started</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/PopGen.jl/getting_started/install.html" class="sidebar-link">Installation</a></li><li><a href="/PopGen.jl/getting_started/julia_primer.html" class="sidebar-link">A quick Julia primer</a></li><li><a href="/PopGen.jl/getting_started/comparison.html" class="sidebar-link">Comparison</a></li><li><a href="/PopGen.jl/getting_started/popobj_type.html" class="active sidebar-link">PopObj and PopData types</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/PopGen.jl/getting_started/popobj_type.html#metadata" class="sidebar-link">Metadata</a></li><li class="sidebar-sub-header"><a href="/PopGen.jl/getting_started/popobj_type.html#genotype-information" class="sidebar-link">Genotype Information</a></li><li class="sidebar-sub-header"><a href="/PopGen.jl/getting_started/popobj_type.html#viewing-popdata" class="sidebar-link">Viewing PopData</a></li><li class="sidebar-sub-header"><a href="/PopGen.jl/getting_started/popobj_type.html#location-data" class="sidebar-link">location data</a></li></ul></li><li><a href="/PopGen.jl/getting_started/other_types.html" class="sidebar-link">Other data types</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Importing Data</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Tutorials</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Analyses</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>API</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="popobj-and-popdata-types"><a href="#popobj-and-popdata-types" class="header-anchor">#</a> PopObj and PopData types</h1> <p>For the PopGen.jl package to be consistent, a standard flexible data structure needs to be defined. The solution is a custom type called  <code>PopData</code>. The struct is defined as:</p> <div class="language-julia extra-class"><pre class="language-julia"><code><span class="token keyword">struct</span> PopData
	meta<span class="token punctuation">:</span><span class="token punctuation">:</span>IndexedTable
	loci<span class="token punctuation">:</span><span class="token punctuation">:</span>IndexedTable
<span class="token keyword">end</span>
</code></pre></div><p>As you can see, a <code>PopData</code> is made up of two IndexedTables (from <a href="https://github.com/JuliaComputing/JuliaDB.jl" target="_blank" rel="noopener noreferrer">JuliaDB.jl<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>), one called <code>meta</code> for sample information (metadata), and the other called <code>loci</code> which includes genotype information. This structure allows for easy and convenient access to the fields using dot <code>.</code> accessors.. The <code>meta</code> and <code>loci</code> tables are both specific in their structure, so here is an illustration to help you visualize a <code>PopData</code> object:</p> <p><img src="/PopGen.jl/images/PopData.svg" alt="PopData"></p> <p><code>PopData</code> and other custom types introduced in PopGen.jl fall under an AbstractType we call <code>PopObj</code>, which is short for &quot;PopGen Object&quot;.</p> <details class="custom-block details"><summary>pronouncing &quot;PopObj&quot;</summary> <p>It's not super obvious, but we decided to pronounce PopObj as &quot;pop ob&quot; with a silent j because it sounds better than saying &quot;pop obj&quot;, but writing it as PopOb looks weird. It's a silly little detail that Pavel seems to care a lot about.</p></details> <div class="custom-block danger"><p class="custom-block-title">avoid manual creation!</p> <p>While it may seem simple enough to create two IndexedTables and make a <code>PopData</code> out of them, the structure of <code>meta</code> and <code>loci</code> are specific, so small mistakes in creating them can create many errors and prevent PopGen from working correctly on your data. Please use the included <code>csv</code>, <code>genepop</code>, and <code>vcf</code> file importers instead.</p></div> <h2 id="metadata"><a href="#metadata" class="header-anchor">#</a> Metadata</h2> <p>The <code>meta</code> table has 5 specific categories/columns: name, population, ploidy, longitude, latitude. These can be directly accessed with <code>PopData.meta.columns.colname</code> where <code>PopData</code> is the name of your PopData object, and <code>colname</code> is one of the five column names below.</p> <h3 id="name"><a href="#name" class="header-anchor">#</a> name</h3> <p><code>::Vector{String}</code></p> <p>The individual/sample names</p> <div class="language-julia extra-class"><pre class="language-julia"><code><span class="token punctuation">[</span><span class="token string">&quot;ind_001&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ind_002&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ind_003&quot;</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="population"><a href="#population" class="header-anchor">#</a> population</h3> <p><code>::Vector{String}</code></p> <p>The individual/sample population ID's</p> <div class="language-julia extra-class"><pre class="language-julia"><code><span class="token punctuation">[</span><span class="token string">&quot;borneo&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;borneo&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;new jersey&quot;</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="ploidy"><a href="#ploidy" class="header-anchor">#</a> ploidy</h3> <p><code>::Vector{Int8}</code></p> <p>The ploidy of the samples</p> <div class="language-julia extra-class"><pre class="language-julia"><code><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="longitude"><a href="#longitude" class="header-anchor">#</a> longitude</h3> <p><code>::Vector{Union{Missing,Float32}}</code></p> <p>latitude data of samples (decimal degrees)</p> <div class="language- extra-class"><pre class="language-text"><code>[-11.12, 15.32, 11.02, -4.42]
</code></pre></div><h3 id="latitude"><a href="#latitude" class="header-anchor">#</a> latitude</h3> <p><code>::Vector{Union{Missing,Float64}}</code></p> <p>longitude data of samples (decimal degrees)</p> <div class="language- extra-class"><pre class="language-text"><code>[-11.12, 15.32, 11.02, -4]
</code></pre></div><h2 id="genotype-information"><a href="#genotype-information" class="header-anchor">#</a> Genotype Information</h2> <p>The genotype information is stored in a separate table called <code>loci</code>. This table is rather special in that it is stored in &quot;tidy&quot; format, i.e. one record per row. Storing data this way makes it a lot easier to interrogate the data and write new functions, along with leveraging <a href="https://github.com/piever/JuliaDBMeta.jl" target="_blank" rel="noopener noreferrer">JuliaDBMeta.jl<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. It also means the table will have as many rows as loci x samples, which can become a lot. To reduce redundant objects inflating object size, the columns name, population, and locus are <code>CategoricalStrings</code>  from <a href="https://github.com/JuliaData/CategoricalArrays.jl" target="_blank" rel="noopener noreferrer">CategoricalArrays.jl<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, which is a memory-saving data structure for long repetitive categorical data. Without using this format, <code>gulfsharks</code>, whose source file is 3.2mb, would occupy about 27mb in your RAM! The classes of <code>.loci</code> can be directly accessed with <code>PopData.loci.columns.colname</code> where <code>PopData</code> is the name of your PopData object, and <code>colname</code> is one of the four column names below.</p> <h3 id="name-2"><a href="#name-2" class="header-anchor">#</a> name</h3> <p><code>::Vector{CategoricalString}</code></p> <p>The sample name, stored as a <code>CategoricalString</code>. Fundamentally, this acts like the <code>name</code> column of the <code>meta</code> table, except when deleting entries and a few uncommon edge cases.</p> <h3 id="population-2"><a href="#population-2" class="header-anchor">#</a> population</h3> <p><code>::Vector{CategoricalString}</code></p> <p>The population ID associated with that sample, stored as a <code>CategoricalString</code>. Fundamentally, this acts like the <code>population</code> column of the <code>meta</code> table, except when deleting entries and a few uncommon edge cases.</p> <h3 id="locus"><a href="#locus" class="header-anchor">#</a> locus</h3> <p><code>::Vector{CategoricalString}</code></p> <p>The locus associated with the genotype, stored as a <code>CategoricalString</code>.</p> <h3 id="genotype"><a href="#genotype" class="header-anchor">#</a> genotype</h3> <p><code>::Vector{Union{Missing,Genotype}}</code></p> <p>The genotypes of the <code>loci</code> are an array of type <code>Genotype</code>, which is an alias for a built-in Julia Tuple type with each value corresponding to an allele (read below to disentangle what that type actually is). For the most part, it looks like this:</p> &quot; extra-class&quot;&gt;<pre class="language-julia"><code><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> missing<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre> <div class="custom-block warning"><p class="custom-block-title">immutable genotypes</p> <p>We use the Tuple type for genotypes of individuals because they are <strong>immutable</strong> (cannot be changed). By the time you're using PopGen.jl, your data should already be filtered and screened. Hand-editing of genotype alleles is <strong>strongly</strong> discouraged, so we outlawed it.</p></div> <h2 id="viewing-popdata"><a href="#viewing-popdata" class="header-anchor">#</a> Viewing PopData</h2> <p>Given the volume of information that can be present in a <code>PopData</code>, we recommend <code>summary()</code> to summarize/overview the data rather than regurgitate everything on the screen.</p> <div class="language- extra-class"><pre class="language-text"><code>julia&gt; a = gulfsharks() ;

julia&gt; summary(a)
PopData Object
  Marker type: SNP
  Ploidy: 2
  Number of individuals: 212
  Number of loci: 2213
  Populations: 7
  Longitude: present with 0 missing
  Latitude: present with 0 missing
</code></pre></div><h2 id="location-data"><a href="#location-data" class="header-anchor">#</a> location data</h2> <p>Location data is optional for a <code>PopData</code>. There are functions that use location information (e.g. <code>locations</code>), but most don't, so it's not a dealbreaker. At present, there are no analyses that utilize location information.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/pdimens/popgen.jl/edit/gh-pages/getting_started/popobj_type.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">4/9/2020, 6:15:03 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/PopGen.jl/getting_started/comparison.html" class="prev">
        Comparison
      </a></span> <span class="next"><a href="/PopGen.jl/getting_started/other_types.html">
        Other data types
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/PopGen.jl/assets/js/app.7a452c33.js" defer></script><script src="/PopGen.jl/assets/js/3.7fe1cfbd.js" defer></script><script src="/PopGen.jl/assets/js/21.cc6fefff.js" defer></script>
  </body>
</html>
